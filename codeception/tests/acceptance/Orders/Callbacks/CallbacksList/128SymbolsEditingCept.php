<?php

$I = new AcceptanceTester($scenario);
initTest::login($I);
$I->amOnPage('/admin/components/run/shop/callbacks');
$I->click('.//*[@id="callbacks_all"]/table/tbody/tr[1]/td[3]/a');
$I->waitForElement('.//*[@id="editCallbackForm"]/div[2]/label');
$I->fillField('.//*[@id="editCallbackForm"]/div[3]/div/input', '12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678');
$I->fillField('.//*[@id="editCallbackForm"]/div[4]/div/input', '12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678');
$I->fillField('.//*[@id="editCallbackForm"]/div[5]/div/textarea', '12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678');
$I->click('.//*[@id="mainContent"]/section/div[1]/div[2]/div/button[1]');
$I->waitForElementVisible('.alert.in.fade.alert-success');
$I->see('Поле Телефон не может превышать 50 символов в длину.');
$I->waitForElementNotVisible('.alert.in.fade.alert-success');
$I->fillField('.//*[@id="editCallbackForm"]/div[4]/div/input', '123456789012345678901234567890123456789012345678901');
$I->click('.//*[@id="mainContent"]/section/div[1]/div[2]/div/button[1]');
$I->waitForElementVisible('.alert.in.fade.alert-success');
$I->see('Поле Телефон не может превышать 50 символов в длину.');
$I->waitForElementNotVisible('.alert.in.fade.alert-success');
$I->fillField('.//*[@id="editCallbackForm"]/div[4]/div/input', '12345678901234567890123456789012345678901234567890');
$I->click('.//*[@id="mainContent"]/section/div[1]/div[2]/div/button[1]');
$I->waitForElementVisible('.alert.in.fade.alert-success');
$I->see('Изменения сохранены');
$I->waitForElementNotVisible('.alert.in.fade.alert-success');
$I->seeInField('.//*[@id="editCallbackForm"]/div[3]/div/input', '12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678');
$I->seeInField('.//*[@id="editCallbackForm"]/div[4]/div/input', '12345678901234567890123456789012345678901234567890');
$I->seeInField('.//*[@id="editCallbackForm"]/div[5]/div/textarea', '12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678');
$status=$I->grabValueFrom('.//*[@id="editCallbackForm"]/div[1]/div/select');
$I->comment($status);
$tema=$I->grabValueFrom('.//*[@id="editCallbackForm"]/div[2]/div/select');
$I->comment($tema);
$date=$I->grabValueFrom('.//*[@id="editCallbackForm"]/div[6]/div/input');
$I->comment($date);
$I->click('.//*[@id="mainContent"]/section/div[1]/div[2]/div/a/span[2]');
$I->waitForText('Список обратных звонков');
$I->see('12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678', './/*[@id="callbacks_all"]/table/tbody/tr[1]/td[3]/a');
$I->see('12345678901234567890123456789012345678901234567890', './/*[@id="callbacks_all"]/table/tbody/tr[1]/td[4]');
$stat1=$I->grabValueFrom('.//*[@id="callbacks_all"]/table/tbody/tr[1]/td[6]/div/select');
$tema1=$I->grabValueFrom('.//*[@id="callbacks_all"]/table/tbody/tr[1]/td[5]/div/select');
$date1=$I->grabTextFrom('.//*[@id="callbacks_all"]/table/tbody/tr[1]/td[7]');
$I->comment($date1);
$I->assertEquals($status, $stat1);
$I->assertEquals($tema, $tema1);
$I->assertEquals($date, $date1);